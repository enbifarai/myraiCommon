@using myRaiHelper;
@using myRaiCommonModel.ess;
@using MVCProject.Custom_Helpers;
@using myRaiHelper;

@model DiariaTrasfertaVM

@{

    if ( Model.Tipo == DiariaTrasfertaEnum.PieDiLista )
    {
        if ( Model.Diaria.Sum( c => c.COLAZ_PDL ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Colazioni</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.COLAZ_PDL > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.COLAZ_PDL ) ))</span></div>
            </div>
        }

        if ( Model.Diaria.Sum( c => c.PASTO_PDL_1 ) > 0 || Model.Diaria.Sum( c => c.PASTO_PDL_2 ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Pasti</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.PASTO_PDL_1 > 0 ) + Model.Diaria.Count( c => c.PASTO_PDL_2 > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.PASTO_PDL_1 ) + Model.Diaria.Sum( c => c.PASTO_PDL_2 ) ))</span></div>
            </div>
        }

        if ( Model.Diaria.Sum( c => c.PERNOTTO_PDL ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Pernottamenti</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.PERNOTTO_PDL > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.PERNOTTO_PDL ) ))</span></div>
            </div>
        }
    }
    else if ( Model.Tipo == DiariaTrasfertaEnum.Forfait )
    {
        if ( Model.Diaria.Sum( c => c.COLAZ_FOR ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Colazioni</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.COLAZ_FOR > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.COLAZ_FOR ) ))</span></div>
            </div>
        }

        if ( Model.Diaria.Sum( c => c.PASTO_FOR_1 ) > 0 || Model.Diaria.Sum( c => c.PASTO_FOR_2 ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Pasti</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.PASTO_FOR_1 > 0 ) + Model.Diaria.Count( c => c.PASTO_FOR_2 > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.PASTO_FOR_1 ) + Model.Diaria.Sum( c => c.PASTO_FOR_2 ) ))</span></div>
            </div>
        }

        if ( Model.Diaria.Sum( c => c.PERNOTTO_FOR ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Pernottamenti</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.PERNOTTO_FOR > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.PERNOTTO_FOR ) ))</span></div>
            </div>
        }

        if ( Model.Diaria.Sum( c => c.PICCOLE_SPESE ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Piccole spese</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.PICCOLE_SPESE > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.PICCOLE_SPESE ) ))</span></div>
            </div>
        }

        if ( Model.Diaria.Sum( c => c.INDENNITA_TRASFERTA ) > 0 )
        {
            <div class="row">
                <div class="col-xs-6 rai-font-md-neutral"><span>Indennità trasferta</span></div>
                <div class="col-xs-3 text-left rai-font-md-neutral"><span>@(Model.Diaria.Count( c => c.INDENNITA_TRASFERTA > 0 ))</span></div>
                <div class="col-xs-3 text-right rai-font-md-neutral"><span>@(String.Format( "{0:N2} €" , Model.Diaria.Sum( c => c.INDENNITA_TRASFERTA ) ))</span></div>
            </div>
        }
    }
}