@using System.Globalization;
@using myRaiHelper;
@using myRaiHelper;
@using myRaiCommonModel;
@using myRaiCommonModel.raiplace;
@using MVCProject.Custom_Helpers;
@using myRaiCommonManager;

@model List<RicercaProgrammaResult>

@{
    int rowIndex = 0;
}
<div class="panel-body">
    @if ( Model != null &&
        Model.Any( ) )
    {
        <table class="js-table-sections table table-hover">
            <thead>
                <tr>
                    <td>Matricola</td>
                    <td>Titolo produzione</td>
                    <td>UORG</td>
                </tr>
            </thead>
            <tbody>
                @foreach ( var produzione in Model )
                {
                    string idx = String.Format( "{0}_{1}" , produzione.Matricola , rowIndex );
                    <tr id="trProduzione@(produzione.Matricola)">
                        <td id="td_produzione_matricola_@(idx)" data-matricola="@(produzione.Matricola)">@(produzione.Matricola)</td>
                        <td id="td_produzione_titolo_@(idx)" data-titolo="@(produzione.Titolo.Replace("'", "\'"))">@(produzione.Titolo)</td>
                        <td id="td_produzione_uorg_@(idx)" data-uorg="@(produzione.UORG)">@(produzione.UORG)</td>
                        <td>
                            <a href="#" class="btn btn-default btn-scriv text-uppercase bg-puls_dash" onclick="selezionaProduzione('@(idx)');">Seleziona</a>
                        </td>
                    </tr>
                    rowIndex++;
                }
            </tbody>
        </table>
    }
    else
    {
        <div class="row">
            Nessuna produzione trovata
        </div>
    }
</div>