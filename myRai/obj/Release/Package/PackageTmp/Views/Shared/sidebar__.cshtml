@using myRaiHelper;
@using myRaiCommonModel;
@using myRaiCommonManager;
@using MVCProject.Custom_Helpers;

@model sidebarModel

@Html.Partial( "~/Views/Shared/sidebar3.cshtml" )
@{
    return;
}

<!-- Sidebar -->
<nav id="sidebar">
    <!-- Sidebar Scroll Container -->
    <div id="sidebar-scroll">
        <!-- Sidebar Content -->
        <!-- Aggiungere .sidebar-mini-hide ad un elemento per nasconderlo quando la sidebar è in modalità mini -->
        <div class="sidebar-content">
            <!-- Side Header -->
            <div class="side-header side-content bg-white-op">
                <!-- Le funzionalità della sidebar sono inizializzate in App() -> uiLayoutApi() -->
                <button class="btn btn-link text-gray pull-right hidden-md hidden-lg" type="button" data-toggle="layout" data-action="sidebar_close">
                    <i class="fa fa-times"></i>
                </button>
                <div class="btn-group pull-right visible-lg visible-md">

                    <i id="toggle" class="fa fa-circle-o btn" data-toggle="layout" data-action="sidebar_mini_toggle"></i>

                </div>
                <a class="h5 text-white" href="#">
                    <span class="h3 font-w600"><i class="di di-logo"></i></span>
                </a>
            </div>
            <!-- FINE Side Header -->
            <!-- Side Content -->
            <div class="side-content">
                <ul class="nav-main">


                    @if ( Model.sezioni != null )
                    {
                        if ( Model.sezioni.Where( a => a.codiceMy == "MY" ).FirstOrDefault( ).ID != null )
                        {
                            foreach ( var sez in Model.sezioni.Where( a => a.codiceMy == "MY" ) )
                            {
                                //Sezioni
                                if ( sez.customView == null )
                                {
                                }
                                else
                                {

                                    string s = "";

                                    if ( sez.attivo )
                                    {
                                        s = "active";
                                    }
                                    <li class="@sez.codiceMy">
                                        <a class="@s" href="@sez.customView"><i class="@sez.icon"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>
                                    </li>
                                }
                            }
                        }
                        if ( Model.sezioni.Where( a => a.codiceMy == "DATI" ).FirstOrDefault( ).ID != null )
                        {
                            bool intS = false;

                            foreach ( var sez in Model.sezioni.Where( a => a.codiceMy == "DATI" ) )
                            {
                                if ( intS == false )
                                {
                                    intS = true;
                                    <li class="nav-main-heading "><span class="sidebar-mini-hide">I miei dati</span></li>
                                }
                                //Sezioni
                                if ( sez.vociMenu.Count > 0 )
                                {


                                    <li>
                                        <a class="nav-submenu" data-toggle="nav-submenu" href="#"><i class="fa fa-file-text-o"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>

                                        <ul>
                                            @foreach ( var voce in sez.vociMenu )
                                            {

                                                <li>
                                                    <a href="@voce.customView">@voce.nomeSezione</a>
                                                </li>
                                            }
                                        </ul>
                                    </li>


                                }
                                else
                                {

                                    string s = "";

                                    if ( sez.attivo )
                                    {
                                        s = "active";
                                    }
                                    <li class="@sez.codiceMy">
                                        <a class="@s" href="@sez.customView"><i class="@sez.icon"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>
                                    </li>
                                }
                            }
                        }

                        if ( Model.sezioni.Where( a => a.codiceMy == "LAVO" ).FirstOrDefault( ).ID != null )
                        {
                            bool intS = false;

                            foreach ( var sez in Model.sezioni.Where( a => a.codiceMy == "LAVO" ) )
                            {
                                if ( intS == false )
                                {
                                    intS = true;
                                    <li class="nav-main-heading "><span class="sidebar-mini-hide">Il mio lavoro</span></li>
                                }
                                //Sezioni
                                if ( sez.vociMenu.Count > 0 )
                                {


                                    <li>
                                        <a class="nav-submenu" data-toggle="nav-submenu" href="#"><i class="fa fa-file-text-o"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>

                                        <ul>
                                            @foreach ( var voce in sez.vociMenu )
                                            {

                                                <li>
                                                    <a href="@voce.customView">@voce.nomeSezione</a>
                                                </li>
                                            }
                                        </ul>
                                    </li>


                                }
                                else
                                {

                                    string s = "";

                                    if ( sez.attivo )
                                    {
                                        s = "active";
                                    }
                                    <li class="@sez.codiceMy">
                                        <a class="@s" href="@sez.customView"><i class="@sez.icon"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>
                                    </li>
                                }
                            }
                        }
                        if ( Model.sezioni.Where( a => a.codiceMy == "DOCU" ).FirstOrDefault( ).ID != null )
                        {
                            bool intS = false;

                            foreach ( var sez in Model.sezioni.Where( a => a.codiceMy == "DOCU" ) )
                            {
                                if ( intS == false )
                                {
                                    intS = true;
                                    <li class="nav-main-heading "><span class="sidebar-mini-hide">I miei documenti</span></li>
                                }
                                //Sezioni
                                if ( sez.vociMenu.Count > 0 )
                                {


                                    <li>
                                        <a class="nav-submenu" data-toggle="nav-submenu" href="#"><i class="fa fa-file-text-o"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>

                                        <ul>
                                            @foreach ( var voce in sez.vociMenu )
                                            {

                                                <li>
                                                    <a href="@voce.customView">@voce.nomeSezione</a>
                                                </li>
                                            }
                                        </ul>
                                    </li>


                                }
                                else
                                {

                                    string s = "";

                                    if ( sez.attivo )
                                    {
                                        s = "active";
                                    }
                                    <li class="@sez.codiceMy">
                                        <a class="@s" href="@sez.customView"><i class="@sez.icon"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>
                                    </li>
                                }
                            }
                        }

                        if ( Model.sezioni.Where( a => a.codiceMy == "SITUA" ).FirstOrDefault( ).ID != null )
                        {
                            bool intS = false;

                            foreach ( var sez in Model.sezioni.Where( a => a.codiceMy == "SITUA" ) )
                            {
                                if ( intS == false )
                                {
                                    intS = true;
                                    <li class="nav-main-heading "><span class="sidebar-mini-hide">La mia situazione</span></li>
                                }
                                //Sezioni
                                if ( sez.vociMenu.Count > 0 )
                                {


                                    <li>
                                        <a class="nav-submenu" data-toggle="nav-submenu" href="#"><i class="fa fa-file-text-o"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>

                                        <ul>
                                            @foreach ( var voce in sez.vociMenu )
                                            {

                                                <li>
                                                    <a href="@voce.customView">@voce.nomeSezione</a>
                                                </li>
                                            }
                                        </ul>
                                    </li>


                                }
                                else
                                {

                                    string s = "";

                                    if ( sez.attivo )
                                    {
                                        s = "active";
                                    }
                                    <li class="@sez.codiceMy">
                                        <a class="@s" href="@sez.customView"><i class="@sez.icon"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>
                                    </li>
                                }
                            }
                        }

                        if ( Model.sezioni.Where( a => a.codiceMy == "ATTIVI" ).FirstOrDefault( ).ID != null )
                        {
                            bool intS = false;

                            foreach ( var sez in Model.sezioni.Where( a => a.codiceMy == "ATTIVI" ) )
                            {
                                if ( intS == false )
                                {
                                    intS = true;
                                    <li class="nav-main-heading "><span class="sidebar-mini-hide">Le mie attività</span></li>
                                }
                                //Sezioni
                                if ( sez.vociMenu.Count > 0 )
                                {


                                    <li>
                                        <a class="nav-submenu" data-toggle="nav-submenu" href="#"><i class="fa fa-file-text-o"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>

                                        <ul>
                                            @foreach ( var voce in sez.vociMenu )
                                            {

                                                <li>
                                                    <a href="@voce.customView">@voce.nomeSezione</a>
                                                </li>
                                            }
                                        </ul>
                                    </li>


                                }
                                else
                                {

                                    string s = "";

                                    if ( sez.attivo )
                                    {
                                        s = "active";
                                    }
                                    <li class="@sez.codiceMy">
                                        <a class="@s" href="@sez.customView"><i class="@sez.icon"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>
                                    </li>
                                }
                            }
                        }


                    }
                    @*

                                foreach (var sez in Model.sezioni)
                                {

                                        //Sezioni
                                         if (sez.customView == null)
                                         {


                                            if ((sez.vociMenu != null) && (sez.vociMenu.Count > 0))
                                            {
                                                <li class="nav-main-heading "><span class="sidebar-mini-hide">@sez.nomeSezione</span></li>


                                                foreach (var funz in sez.vociMenu)
                                                {
                                                    string s = "";

                                                    if (funz.attivo)
                                                    {
                                                        s = "active";
                                                    }

                                                         <li class="@sez.codiceMy">
                                                            <a class="@s"  href="@funz.customView"><i class="@funz.icon"></i><span class="sidebar-mini-hide">@funz.nomeSezione</span></a>
                                                        </li>
                                                }

                                                if (sez.ID == 2)
                                                {
                                                        @Html.Partial("../Shared/_sidebarPresenze")
                                                        @Html.Partial("../Responsabile/responsabile")
                                                        @Html.Partial("../Responsabile/responsabile_2_liv")
                                                }
                                            }




                                          }
                                          else
                                          {
                                              string s = "";

                                              if (sez.attivo)
                                              {
                                                  s = "active";
                                              }
                                              <li class="@sez.codiceMy">
                                              <a class="@s"  href="@sez.customView"><i class="@sez.icon"></i><span class="sidebar-mini-hide">@sez.nomeSezione</span></a>
                                             </li>
                                          }


                                }

                            }



                           @*

                              <li class="nav-main-heading"><span class="sidebar-mini-hide">Altre Funzioni</span>

                              </li>
                            <li>
                                <a  href="/CurriculumVitae/"><i class="fa fa-vcard-o"></i><span class="sidebar-mini-hide">Curriculum Vitae</span></a>
                            </li>
                              <li>
                                <a class="nav-submenu" data-toggle="nav-submenu" href="#"><i class="fa fa-file-text-o"></i><span class="sidebar-mini-hide">Visualizzazioni</span></a>
                                <ul>
                                    <li>
                                        <a href="/SituazioneDebitoria/">Situazione Debitoria</a>
                                    </li>
                                    <li>
                                        <a href="#">Busta Paga</a>
                                    </li>
                                    <li>
                                        <a href="#">Documenti amministrativi</a>
                                    </li>
                                    <li>
                                        <a href="#">Trasferte</a>
                                    </li>
                                     <li>
                                        <a href="/AlberghiConvenzionati/">Alberghi Convenzionati</a>
                                    </li>
                                </ul>
                              </li>

                              <li>
                                 <a class="nav-submenu" data-toggle="nav-submenu" href="#"><i class="si si-wrench"></i><span class="sidebar-mini-hide">Moduli</span></a>
                                 <ul>
                                     <li>
                                         <a href="#">Borse di Studio</a>
                                     </li>
                                     <li>
                                         <a href="#">Qu.i.r.</a>
                                     </li>
                                 </ul>
                             </li>
                        </ul>*@
            </div>
            <!-- FINE Side Content -->
        </div>
        <!-- Sidebar Content -->

        <div id="inner" class="inner"></div>
    </div>
    <!-- FINE Sidebar Scroll Container -->
</nav>
<!-- FINE Sidebar -->