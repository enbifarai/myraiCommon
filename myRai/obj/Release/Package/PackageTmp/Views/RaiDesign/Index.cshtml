@using myRaiHelper;

@{
    ViewBag.Title = "Design System";

    Layout = "~/Views/Shared/_LayoutContent.cshtml";

    string loremIpsum = "Lorem ipsum dolor sit amet, consectetur cras amet.";
    string loremLabel = "Lorem ipsum";
}

<script src="~/assets/js/myRaiV2_worker.js"></script>

<section role="main" class="content-body">
    <main id="main-container">
        <div class="content">
            <div class="row">
                <div class="col-sm-8">
                    <div data-filter-name="">
                        @Html.RenderPanel(myRaiHelper.PanelType.Panel, "Informazioni", "~/Views/RaiDesign/subpartial/Informazioni.cshtml")
                    </div>

                    <div data-filter-name="avatar">
                        @Html.RenderPanel(PanelType.Panel, "Avatar", "subpartial/Avatar")
                    </div>

                    <div data-filter-name="font">
                        @Html.RenderPanel(myRaiHelper.PanelType.PanelNoPadding, "Font", "subpartial/Font", loremIpsum)
                    </div>

                    <div data-filter-name="label">
                        @Html.Partial("subpartial/Label", loremLabel)
                    </div>

                    <div data-filter-name="button">
                        @Html.Partial("subpartial/Button", loremLabel)
                    </div>

                    <div data-filter-name="formControl">
                        @Html.RenderPanel(PanelType.Panel, "Form Control", "subpartial/FormControl", new RaiSearchControl() { Name = "09" })
                    </div>

                    <div data-filter-name="modal">
                        @Html.RenderPanel(PanelType.Panel, "Modali", "subpartial/ModalCaller")
                    </div>

                    <div data-filter-name="tab">
                        @Html.RenderPanel(PanelType.PanelNoPadding, "Tab", "subpartial/Tab")
                    </div>

                    <div data-filter-name="stepper">
                        @Html.RenderPanel(PanelType.Panel, "Stepper", "subpartial/Stepper")
                    </div>

                    <div data-filter-name="widget">
                        @Html.Partial("subpartial/widget")
                    </div>

                            <div data-filter-name="stresstest">
                                @Html.Partial("subpartial/Tabelle")
                            </div>
                            <div data-filter-name="icons">
                                @Html.RenderPanel(myRaiHelper.PanelType.Panel, "Icone", "~/Views/RaiDesign/subpartial/icons.cshtml")
                            </div>
                            <div data-filter-name="alert">
                                @Html.Partial("subpartial/Alert")
                            </div>
                            <div data-filter-name="nocontentpage">
                                <div class="panel rai">
                                    <div class="panel-heading">
                                        <label class="panel-title">No content page</label>
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="rai-btn-fill">
                                                    <a class="btn rai-btn-small" target="_blank" href="/RaiDesign/NoContentPage?c=404">404/Non trovato</a>
                                                    <a class="btn rai-btn-small" target="_blank" href="/RaiDesign/NoContentPage?c=not_auth">Non autorizzato</a>
                                                    <a class="btn rai-btn-small" target="_blank" href="/RaiDesign/NoContentPage?c=not_auth_2">Non autorizzato 2</a>
                                                    <a class="btn rai-btn-small" target="_blank" href="/RaiDesign/NoContentPage?c=errore">Errore</a>
                                                    <a class="btn rai-btn-small" target="_blank" href="/RaiDesign/NoContentPage?c=errore_2">Errore</a>
                                                    <a class="btn rai-btn-small" target="_blank" href="/RaiDesign/NoContentPage?c=bad_browser">Bad browser</a>
                                                    <a class="btn rai-btn-small" target="_blank" href="/RaiDesign/NoContentPage?c=home_not_auth">Home non autorizzato</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                </div>
                <div class="col-sm-4">
                    @using (Html.BeginPanel(PanelType.PanelNoPadding, "Filtri", false))
                    {
                        <table class="table rai-table rai-table-panel rai-table-vcenter rai-table-filter">
                            <tr data-filter="selected" onclick="FilterView(this, '')">
                                <td>Tutti</td>
                            </tr>
                            <tr>
                                <td class="no-padding">
                                    <table class="table rai-table rai-table-panel rai-table-vcenter rai-table-filter">
                                        <tr data-filter onclick="FilterView(this, 'avatar')">
                                            <td>Avatar</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'font')">
                                            <td>Font</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'label')">
                                            <td>Label</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'button')">
                                            <td>Button</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'formControl')">
                                            <td>Form Control</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'modal')">
                                            <td>Modali</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'tab')">
                                            <td>Tab</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'stepper')">
                                            <td>Stepper</td>
                                        </tr>
                                        <tr data-filter onclick="FilterView(this, 'widget')">
                                            <td>Widget</td>
                                        </tr>
                                                <tr data-filter onclick="FilterView(this, 'stresstest')">
                                                    <td>Stress Test</td>
                                                </tr>
                                                <tr data-filter onclick="FilterView(this, 'icons')">
                                                    <td>Icons</td>
                                                </tr>
                                                <tr data-filter onclick="FilterView(this, 'alert')">
                                                    <td>Alert</td>
                                                </tr>
                                                <tr data-filter onclick="FilterView(this, 'nocontentpage')">
                                                    <td>No content page</td>
                                                </tr>
                                    </table>
                                </td>
                            </tr>

                        </table>
                    }
                </div>
            </div>
        </div>
    </main>

    <!-- end: page -->
</section>

@Html.RenderModal("full")
@Html.RenderModal("half", size:ModalSize.Half)

<script>
    function ShowAlert(typeSwal) {
        swal("Test", "Ha funzionato!", typeSwal);
    }

    function FilterView(row, filter) {
        $('[data-filter]').attr('data-filter', '');

        if (filter == '') {
            $('[data-filter-name]').show();
        }
        else {
            $('[data-filter-name]').hide();
            $('[data-filter-name="'+filter+'"]').show();
        }

        $(row).attr('data-filter', 'selected');
    }


    document.addEventListener('DOMContentLoaded', (event) => {
        $('#select_simple_drop').select2({ placeholder: "Seleziona un elemento..." });

        $("#select_ajax").select2({
            placeholder: 'Selezionare...',
            language: 'it',
            minimumInputLength: 3,
            ajax: {
                url: function () { return $(this).data('url'); },
                dataType: 'json',
                delay: 250,
                data: function (params) {
                    return {
                        filter: params.term
                    };
                },
                processResults: function (data, params) {
                    params.page = params.page || 1;
                    return {
                        results: data,
                        pagination: {
                            more: (params.page * 30) < data.total_count
                        }
                    };
                },
                cache: true
            }

        });

        $('#select_multiple').select2({
            multiple:'true'
        })
    });
    
</script>

<script>
    InitDatePicker();
    $.validator.unobtrusive.parse(document);

</script>