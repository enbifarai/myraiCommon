@using System.Globalization;
@using myRaiCommonModel;

@{
    Layout = null;
    var cultureInfo = CultureInfo.GetCultureInfo("it-IT");
}

@model SimulazioneBudgetDirezioneVM

<section class="panel">
    <header class="panel-heading">
        <div class="panel-actions">
            <a href="#" class="panel-action panel-action-toggle" data-panel-toggle></a>
        </div>
        <h2 class="panel-title">Riepilogo provvedimenti</h2>
    </header>
    <div class="panel-body">
        <div class="row">
            <div id="" style="margin-bottom:0px !important;" class="">
                <div id="" class="">
                    <div class="row" id="" style="">
                        <div class="col-sm-12 text-italic ">
                            <div class="col-sm-4 ">
                                <label class="text-italic text-primary">Provv richiesti</label>
                            </div>
                            <div class="col-sm-4">
                                <label class="text-italic text-primary">N. provv</label>
                            </div>
                            <div class="col-sm-4">
                                <label class="text-italic text-primary text-right">Costo</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 ">
                            <div style="height:450px;overflow-x:hidden;overflow-y:auto;">
                                <table class="js-table-sections table table-hover" role="grid">
                                    <tbody>
                                        @{
                                            if (Model.RiepilogoPromozioni != null)
                                            {
                                                Promozione livello0A0 = Model.RiepilogoPromozioni.Livello0A0;
                                                Promozione livello1 = Model.RiepilogoPromozioni.Livello1;
                                                Promozione livello3 = Model.RiepilogoPromozioni.Livello3;
                                                Promozione livello4 = Model.RiepilogoPromozioni.Livello4;
                                                Promozione gratifiche = Model.RiepilogoPromozioni.Gratifiche;

                                                <tr class="row" role="row" style="margin:3px; border-top:1px solid lightgray;">
                                                    <td class="col-sm-4 " data-id-persona="">
                                                        <h5 class="text-bold" style="width:100%;margin-top:5px;margin-bottom:5px;">@(livello0A0.Descrizione)</h5>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(livello0A0.NumeroProvvedimenti)</label>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(String.Format("€ {0:N2}", livello0A0.Costo))</label>
                                                    </td>
                                                </tr>

                                                <tr class="row" role="row" style="margin:3px; border-top:1px solid lightgray;">
                                                    <td class="col-sm-4 " data-id-persona="">
                                                        <h5 class="text-bold" style="width:100%;margin-top:5px;margin-bottom:5px;">@(livello1.Descrizione)</h5>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(livello1.NumeroProvvedimenti)</label>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(String.Format("€ {0:N2}", livello1.Costo))</label>
                                                    </td>
                                                </tr>

                                                <tr class="row" role="row" style="margin:3px; border-top:1px solid lightgray;">
                                                    <td class="col-sm-4 " data-id-persona="">
                                                        <h5 class="text-bold" style="width:100%;margin-top:5px;margin-bottom:5px;">@(livello3.Descrizione)</h5>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(livello3.NumeroProvvedimenti)</label>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(String.Format("€ {0:N2}", livello3.Costo))</label>
                                                    </td>
                                                </tr>

                                                <tr class="row" role="row" style="margin:3px; border-top:1px solid lightgray;">
                                                    <td class="col-sm-4 " data-id-persona="">
                                                        <h5 class="text-bold" style="width:100%;margin-top:5px;margin-bottom:5px;">@(livello4.Descrizione)</h5>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(livello4.NumeroProvvedimenti)</label>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(String.Format("€ {0:N2}", livello4.Costo))</label>
                                                    </td>
                                                </tr>

                                                <tr class="row" role="row" style="margin:3px; border-top:1px solid lightgray;">
                                                    <td class="col-sm-4 " data-id-persona="">
                                                        <h5 class="text-bold" style="width:100%;margin-top:5px;margin-bottom:5px;">@(gratifiche.Descrizione)</h5>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(gratifiche.NumeroProvvedimenti)</label>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">@(String.Format("€ {0:N2}", gratifiche.Costo))</label>
                                                    </td>
                                                </tr>

                                                <tr class="row" role="row" style="margin:3px; border-top:1px solid lightgray;">
                                                    <td class="col-sm-4 " data-id-persona="">
                                                        <h5 class="text-bold" style="width:100%;margin-top:5px;margin-bottom:5px;">Totale provvedimenti</h5>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">
                                                            @{ 
                                                                int somma = livello0A0.NumeroProvvedimenti + livello1.NumeroProvvedimenti + livello3.NumeroProvvedimenti + livello4.NumeroProvvedimenti + gratifiche.NumeroProvvedimenti;
                                                            }
                                                            @(somma)
                                                        </label>
                                                    </td>
                                                    <td class="col-sm-4 ">
                                                        <label class="text-italic text-right" style="width:100%;margin-bottom:0px;">
                                                            @{
                                                                decimal sommaCosto = livello0A0.Costo + livello1.Costo + livello3.Costo + livello4.Costo + gratifiche.Costo;
                                                            }
                                                            @(String.Format("€ {0:N2}", sommaCosto))
                                                        </label>
                                                    </td>
                                                </tr>
                                            }
                                            else
                                            {
                                                @Html.Partial("~/Views/Shared/_NoDati.cshtml")
                                            }
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
